<html>
<head>
 <title>Financial Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/1.1.0/d3-legend.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
        
<style>
    
	
	
html, body, .container{
    height: 100%; 
    min-height: 100%;
}

.top0 {
    float: left;
    width: 70%;
    height: 7%;
    background-color: black;
}

.top1 {
    float: left;
    width: 10%;
    height: 7%;
    background-color: black;
}
.top2 {
    float: left;
    width: 10%;
    height: 7%;
    background-color:black;
}
.top3 {
    float: left;
    width: 10%;
    height: 7%;
    background-color:black;
}

.head2 {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  font-size: 30px;
  margin: 10px;
  padding-left: 10px;
  color: white
  
}

.menu-button {
  background-color: white; /* Green */
  border: blue;
  color:black;
  padding: 8px 16px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 18px;
  margin: 12px 4px;
  transition-duration: 0.4s;
  cursor: pointer;
}

.menu-button:hover {
  background-color:blue;
  color: white;
}

 .menu-button-selected {
              background-color: red; /* Green */
              border: blue;
              color: white;
              padding: 8px 16px;
              text-align: center;
              text-decoration: none;
              display: inline-block;
              font-size: 18px;
              margin: 12px 4px;
              transition-duration: 0.4s;
              cursor: pointer;
            }


.hspc {
    float: left;
    width: 100%;
    height: 1%;
    background-color: white;
}

.vspc {
    float: right;
    width: 0.5%;
    height: 50%;
    background-color: white;
}


.left{
    float: left;
    width: 47%;
    height: 50%;
    background-color: #F7EFEE;
	  margin: 20px;
	  box-shadow: 5px 10px #888888;
}
.right{
    float: right;
    width: 47%;
    height: 50%;
    background-color: #F7EEEE;
	margin: 20px;
	box-shadow: 5px 10px #888888;
}

.leftnew{
    float: left;
    width: 47%;
    height: 50%;
    background-color: #F2F2F2;
	margin: 20px;
	box-shadow: 5px 10px #888888;
}
.rightnew{
    float: right;
    width: 47%;
    height: 50%;
    background-color: #F2F2F2;
	margin: 20px;
	box-shadow: 5px 10px #888888;
}

.chart-line {
  fill: none;
  stroke-width: 3px;
}

.axis text {
  font-family: 'Open Sans', sans-serif;
  font-size: 12pt;
}
.axis .label {
  font-size: 18pt;
}

.axis path, .axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.color-legend text {
  font-family: 'Open Sans', sans-serif;
  font-size: 12pt;
}

table {
  border-collapse: collapse;
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  margin-top: 15px;
  margin-left: 20px;
 /* border: 1px solid black; */

}


td, th{
  border: 1px solid white;
  padding: 6px;
}

tr:nth-child(1){
  background-color: orange;
  font-weight: bold;
  }

tr:nth-child(2n){
  background-color: lightblue;
  }


.dot {
  fill: #dfsk;
  stroke: #000;
}

.chart-heading {
  border-bottom: 3px solid black;
  background-color: darkblue;
  color: white;
  font-weight: bold;
  padding: 8px;
  margin-top: 0;
  text-align: center;
  font-family: Helvetica, sans-serif;
}


</style>

<!--  ================================================================================= -->
<!--  ================================================================================= -->

</head>
  <body> 
    <form id="frm1">
    
<div class="top0" id="zero"> 
  <p class = "head2">
    Financial Dashboard
  </p>
</div>

<div class="top1" id="one" onclick='submitIt();'>

<button class ="menu-button-selected" id="rev" onclick="form.action='/Dashboardd3/FetchRevGp';" >Rev and GP</button>  

</div>
<div class="top2" id="two" onclick='submitIt();'>

<button class ="menu-button" id="sign"  onclick="form.action='/Dashboardd3/FetchSigning';">Signing</button> 
</div>

<div class="top3" id="three" onclick='submitIt();'>
<button class ="menu-button" id="hc"  onclick="form.action='/Dashboardd3/FetchHcount';">Head Count</button>
</div>


<div class="hspc"></div>

<div id="container" class="left">
  <p class= "chart-heading">
    PA Level Monthly Cumulative Revenue Trend - YOY (in $M CAD)
  </p>


</div>
<div class="vspc"></div>
<div id="container1" class="right">
    <p class= "chart-heading">
        PA Level Monthly Cumulative GP Trend - YOY
    </p>
</div>

<div class="hspc"></div>
<div id="containerBMO" class="leftnew">
    <p class= "chart-heading">
        BMO Monthly Cumulative Revenue Trend - YOY (in $M CAD)
    </p>
</div>
<div class="vspc"></div>
<div id="containerBMO1" class="rightnew">
  <p class= "chart-heading">
        BMO Monthly Cumulative GP Trend - YOY
  </p>
</div>

<div class="hspc"></div>
<div id="containerCIBC" class="leftnew">
    <p class= "chart-heading">
        CIBC Monthly Cumulative Revenue Trend - YOY (in $M CAD)
    </p>
</div>
<div class="vspc"></div>
<div id="containerCIBC1" class="rightnew">
    <p class= "chart-heading">
        CIBC Monthly Cumulative GP Trend - YOY
    </p>
</div>

<div class="hspc"></div>
<div id="containerSCOTIA" class="leftnew">
    <p class= "chart-heading">
        SCOTIA Monthly Cumulative Revenue Trend - YOY (in $M CAD)
    </p>
</div>
<div class="vspc"></div>
<div id="containerSCOTIA1" class="rightnew">
    <p class= "chart-heading">
        SCOTIA Monthly Cumulative GP Trend - YOY
    </p>
</div>


<div class="hspc"></div>
<div id="containerRBC" class="left">
    <p class= "chart-heading">
        RBC Monthly Cumulative Revenue Trend - YOY (in $M CAD)
    </p>
</div>
<div class="vspc"></div>
<div id="containerRBC1" class="right">
    <p class= "chart-heading">
        RBC Monthly Cumulative GP Trend - YOY
    </p>
</div>

<div class="hspc"></div>
<div id="containerMANULIFE" class="left">
    <p class= "chart-heading">
        INSURANCE Monthly Cumulative Revenue Trend - YOY (in $M CAD)
    </p>
</div>
<div class="vspc"></div>
<div id="containerMANULIFE1" class="right">
    <p class= "chart-heading">
        INSURANCE Monthly Cumulative GP Trend - YOY
    </p>
</div>

<input type="hidden" id="viewtype" value=""/>


<!--  ================================================================================= -->
<!--  ================================================================================= -->



<script language="javascript">

    function submitIt() {
    document.getElementById('viewtype').value = val;
    frm1.submit();
    }
    
</script>   
    



<script>
    var outerWidth = 830;
    var outerHeight = 280;
    var margin = { left: 80, top: 5, right: 50, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#container").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG = g.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG = g.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG = g.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale = d3.scale.linear().range([0, innerWidth]);  // xscale
    var yScale = d3.scale.linear().range([innerHeight, 0]);  // yscale
    var colorScale = d3.scale.category10();
    var xAxis = d3.svg.axis().scale(xScale).orient("bottom").ticks(10).outerTickSize(0);
    var yAxis = d3.svg.axis().scale(yScale).orient("left").ticks(10).outerTickSize(0);
    
     //creating the line
      var line = d3.svg.line()
        .x(function(d) { return xScale(d[xColumn]); }) 
        .y(function(d) { return yScale(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend = d3.legend.color()
      .scale(colorScale)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
       
       
     function render(data){
 	    xScale.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        yScale.domain([0, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        
        xAxisG.call(xAxis);  // This will draw the xaxis
        yAxisG.call(yAxis); // This will draw the yaxis

        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
                  
        colorScale.domain(nested.map(function (d){ return d.key; }));
        
        var paths = g.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        paths.exit().remove();
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line(d.values);}).attr("stroke", function (d){ return colorScale(d.key); });
        
        g.selectAll(".dot")
        .data(data)
        .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale(d[xColumn]); })
        .attr("cy", function(d) { return yScale(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
      
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        colorLegendG.call(colorLegend);
      
      }
     
      function type(d){
          // d.year = new Date(d.year);
           d.month = +d.month;
           d.revenue = +d.revenue;
           return d;
      }
         
         d3.csv("REVENUEyoy.csv", type, render);
         
         d3.text("REVENUEyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#container").append("g")
                    .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                     .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
     
         /*
          g.append("text")
        .attr("x", outerWidth/2)             
        .attr("y", 20)
        .attr("text-anchor", "middle")  
        .style("font-size", "20px") 
        .style("text-decoration", "underline")  
        .text("Revenue YOY (PA Level) - $M CAD");
      */
       
</script>





    
    <script>

//clear
    
      var outerWidth = 830;
      var outerHeight = 280;
      var margin = { left: 80, top: 5, right: 50, bottom: 20 };

      var xColumn = "month";  // months
      var yColumn = "revenue";  // revenue
    //  var lineColumn = "year";  // year
      
      var colorColumn = "year";
      var lineColumn = colorColumn;


//clear

      var xAxisLabelText = "month";
      var xAxisLabelOffset = 26;
//clear

      var yAxisLabelText = "Revenue";
      var yAxisLabelOffset = 60;

      var innerWidth  = outerWidth  - margin.left - margin.right;
      var innerHeight = outerHeight - margin.top  - margin.bottom;
      
      
      var svg = d3.select("#container1").append("svg")
        .attr("width", outerWidth + margin.left + margin.right)
        .attr("height", outerHeight + margin.top + margin.bottom);

      
      var g1 = svg.append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

//clear

      var xAxisG1 = g1.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + innerHeight + ")")

/*
      var xAxisLabel = xAxisG.append("text")
        .style("text-anchor", "middle")
        .attr("transform", "translate(" + (innerWidth / 2) + "," + xAxisLabelOffset + ")")
        .attr("class", "label")
        .text(xAxisLabelText);
*/
      var yAxisG1 = g1.append("g")
        .attr("class", "y axis");
/*
      var yAxisLabel = yAxisG.append("text")
        .style("text-anchor", "middle")
        .attr("transform", "translate(-" + yAxisLabelOffset + "," + (innerHeight / 2) + ") rotate(-90)")
        .attr("class", "label")
        .text(yAxisLabelText);
      */
      var colorLegendG1 = g1.append("g")
      .attr("class", "color-legend")
      .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
      
       var xScale1 = d3.scale.linear().range([0, innerWidth]);

      var yScale1 = d3.scale.linear().range([innerHeight, 0]);
      
      var colorScale1 = d3.scale.category10();
      
        var xAxis1 = d3.svg.axis().scale(xScale1).orient("bottom").ticks(10).outerTickSize(0);


      var yAxis1 = d3.svg.axis().scale(yScale1).orient("left").ticks(10).outerTickSize(0);
      
      
        var line1 = d3.svg.line()
        .x(function(d) { return xScale1(d[xColumn]); })
        .y(function(d) { return yScale1(d[yColumn]); });


     var colorLegend1 = d3.legend.color()
      .scale(colorScale)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
       function render(data){

        //xScale.domain(d3.extent(data, function (d){ return d[xColumn]; }));

 	xScale1.domain(d3.extent(data, function (d){ return d[xColumn]; }));
          

       // yScale1.domain([-0.5, d3.max(data, function (d){ return d[yColumn]; })]);
       yScale1.domain([d3.min(data, function(d){return d[yColumn];}) , d3.max(data, function (d){ return d[yColumn]; })]);

        xAxisG1.call(xAxis1);

        yAxisG1.call(yAxis1);


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })
          .entries(data);
        
        colorScale1.domain(nested.map(function (d){ return d.key; }));

        var paths = g1.selectAll(".chart-line").data(nested);
        paths.enter().append("path").attr("class", "chart-line");
        paths.exit().remove();
        paths.attr("d", function (d){
          return line1(d.values);}).attr("stroke", function (d){ return colorScale(d.key); });
        
        g1.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale1(d[xColumn]); })
        .attr("cy", function(d) { return yScale1(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG1.call(colorLegend1);
      }
      
       function type(d1){
       // d.year = new Date(d.year);
        d1.month = +d1.month;
        d1.revenue = +d1.revenue;
        return d1;
      }
      
      d3.csv("GPyoy.csv", type, render);
      
      d3.text("GPyoydata.csv", function(data) {
                var parsedCSV = d3.csv.parseRows(data);
                // var cana = d3.select("body").append("svg");
               var container = d3.select("#container1")
                   .append("table").selectAll("tr")
                        .data(parsedCSV).enter()
                        .append("tr")
                    .selectAll("td")
                        .data(function(d) { return d; }).enter()
                        .append("td")
                        .text(function(d) { return d; });
            });
            
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->
          
<script>

      //BMO START
    var outerWidth = 830;
    var outerHeight = 280;
    var margin = { left: 80, top: 5, right: 50, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerBMO").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g2 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG2 = g2.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG2 = g2.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG2 = g2.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale2 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale2 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale2 = d3.scale.category10();
    
    var xAxis2 = d3.svg.axis().scale(xScale2).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis2 = d3.svg.axis().scale(yScale2).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line2 = d3.svg.line()
        .x(function(d) { return xScale2(d[xColumn]); }) 
        .y(function(d) { return yScale2(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend2 = d3.legend.color()
      .scale(colorScale)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
      
     
       
     function render(data){


 	    xScale2.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        yScale2.domain([0, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        
        

        xAxisG2.call(xAxis2);  // This will draw the xaxis
        yAxisG2.call(yAxis2); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale2.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g2.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line2(d.values);}).attr("stroke", function (d){ return colorScale(d.key); });
        
        
        // circles
        
  
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        
        g2.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale2(d[xColumn]); })
        .attr("cy", function(d) { return yScale2(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG2.call(colorLegend2);
      
      }
     
      function type(d2){
          // d.year = new Date(d.year);
           d2.month = +d2.month;
           d2.revenue = +d2.revenue;
           return d2;
         }
         
         d3.csv("BMORevyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("BMORevyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerBMO").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
             
       
    </script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

    
    <script>
      //BMO START
    var outerWidth = 830;
    var outerHeight = 280;
    var margin = { left: 80, top: 5, right: 50, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerBMO1").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g3 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG3 = g3.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG3 = g3.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG3 = g3.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale3 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale3 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale3 = d3.scale.category10();
    
    var xAxis3 = d3.svg.axis().scale(xScale3).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis3 = d3.svg.axis().scale(yScale3).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line3 = d3.svg.line()
        .x(function(d) { return xScale3(d[xColumn]); }) 
        .y(function(d) { return yScale3(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend3 = d3.legend.color()
      .scale(colorScale)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
     function render(data){


 	    xScale3.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        //yScale3.domain([0, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        yScale3.domain([d3.min(data, function(d){return d[yColumn];}) , d3.max(data, function (d){ return d[yColumn]; })]);
        

        xAxisG3.call(xAxis3);  // This will draw the xaxis
        yAxisG3.call(yAxis3); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale3.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g3.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line3(d.values);}).attr("stroke", function (d){ return colorScale(d.key); });
        
        
        // circles
        
    
        
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        
        g3.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale3(d[xColumn]); })
        .attr("cy", function(d) { return yScale3(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG3.call(colorLegend3);
      
      }
     
      function type(d3){
          // d.year = new Date(d.year);
           d3.month = +d3.month;
           d3.revenue = +d3.revenue;
           return d3;
         }
         
         d3.csv("BMOGPyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("BMOGPyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerBMO1").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
        
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

   
<script>
      //RBC START
    var outerWidth = 830;
    var outerHeight = 280;
    var margin = { left: 80, top: 5, right: 50, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerRBC").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g4 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG4 = g4.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG4 = g4.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG4 = g4.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale4 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale4 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale4 = d3.scale.category10();
    
    var xAxis4 = d3.svg.axis().scale(xScale2).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis4 = d3.svg.axis().scale(yScale2).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line4 = d3.svg.line()
        .x(function(d) { return xScale4(d[xColumn]); }) 
        .y(function(d) { return yScale4(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend4 = d3.legend.color()
      .scale(colorScale)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
      
     
       
     function render(data){


 	    xScale4.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        yScale4.domain([0, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        
        

        xAxisG4.call(xAxis4);  // This will draw the xaxis
        yAxisG4.call(yAxis4); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale4.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g4.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line4(d.values);}).attr("stroke", function (d){ return colorScale(d.key); });
        
        
        // circles
        
    
        
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        
        g4.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale4(d[xColumn]); })
        .attr("cy", function(d) { return yScale4(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG4.call(colorLegend4);
      
      }
     
      function type(d2){
          // d.year = new Date(d.year);
           d2.month = +d2.month;
           d2.revenue = +d2.revenue;
           return d2;
         }
         
         d3.csv("RBCRevyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("RBCRevyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerRBC").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
       
</script>
    
<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

<script>
      
    var outerWidth = 830;
    var outerHeight = 280;
    var margin = { left: 80, top: 5, right: 50, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerRBC1").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g5 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG5 = g5.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG5 = g5.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG5 = g5.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale5 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale5 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale5 = d3.scale.category10();
    
    var xAxis5 = d3.svg.axis().scale(xScale5).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis5 = d3.svg.axis().scale(yScale5).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line5 = d3.svg.line()
        .x(function(d) { return xScale5(d[xColumn]); }) 
        .y(function(d) { return yScale5(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend5 = d3.legend.color()
      .scale(colorScale)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
     function render(data){


 	    xScale5.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        //yScale5.domain([-0.5, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        yScale5.domain([d3.min(data, function(d){return d[yColumn];}) , d3.max(data, function (d){ return d[yColumn]; })]);
        

        xAxisG5.call(xAxis5);  // This will draw the xaxis
        yAxisG5.call(yAxis5); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale5.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g5.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line5(d.values);}).attr("stroke", function (d){ return colorScale(d.key); });
        
        
        // circles
        
    
        
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        
        g5.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale5(d[xColumn]); })
        .attr("cy", function(d) { return yScale5(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG5.call(colorLegend5);
      
      }
     
      function type(d5){
          // d.year = new Date(d.year);
           d5.month = +d5.month;
           d5.revenue = +d5.revenue;
           return d5;
         }
         
         d3.csv("RBCGPyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("RBCGPyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerRBC1").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

    
<script>
      //SCOTIA START
    var outerWidth = 830;
    var outerHeight = 280;
    var margin = { left: 80, top: 5, right: 50, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerSCOTIA").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g6 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG6 = g6.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG6 = g6.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG6 = g6.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale6 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale6 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale6 = d3.scale.category10();
    
    var xAxis6 = d3.svg.axis().scale(xScale6).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis6 = d3.svg.axis().scale(yScale6).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line6 = d3.svg.line()
        .x(function(d) { return xScale6(d[xColumn]); }) 
        .y(function(d) { return yScale6(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend6 = d3.legend.color()
      .scale(colorScale6)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
      
     
       
     function render(data){


 	    xScale6.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        yScale6.domain([0, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        
        

        xAxisG6.call(xAxis6);  // This will draw the xaxis
        yAxisG6.call(yAxis6); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale6.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g6.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line6(d.values);}).attr("stroke", function (d){ return colorScale6(d.key); });
        
        
        // circles
        
    
        
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        
        g6.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale6(d[xColumn]); })
        .attr("cy", function(d) { return yScale6(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG6.call(colorLegend6);
      
      }
     
      function type(d){
          // d.year = new Date(d.year);
           d.month = +d.month;
           d.revenue = +d.revenue;
           return d;
         }
         
         d3.csv("SCOTIARevyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("SCOTIARevyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerSCOTIA").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
       
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

    
<script>
      
    var outerWidth = 830;
    var outerHeight = 280;
    var margin = { left: 80, top: 5, right: 50, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerSCOTIA1").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g7 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG7 = g7.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG7 = g7.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG7 = g7.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale7 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale7 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale7 = d3.scale.category10();
    
    var xAxis7 = d3.svg.axis().scale(xScale7).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis7 = d3.svg.axis().scale(yScale7).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line7 = d3.svg.line()
        .x(function(d) { return xScale7(d[xColumn]); }) 
        .y(function(d) { return yScale7(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend7 = d3.legend.color()
      .scale(colorScale)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
     function render(data){


 	    xScale7.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        //yScale7.domain([-0.5, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        yScale7.domain([d3.min(data, function(d){return d[yColumn];}) , d3.max(data, function (d){ return d[yColumn]; })]);
        

        xAxisG7.call(xAxis7);  // This will draw the xaxis
        yAxisG7.call(yAxis7); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale7.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g7.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line7(d.values);}).attr("stroke", function (d){ return colorScale(d.key); });
        
        
        // circles
        
    
        
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        
        g7.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale7(d[xColumn]); })
        .attr("cy", function(d) { return yScale7(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG7.call(colorLegend7);
      
      }
     
      function type(d5){
          // d.year = new Date(d.year);
           d5.month = +d5.month;
           d5.revenue = +d5.revenue;
           return d5;
         }
         
         d3.csv("SCOTIAGPyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("SCOTIAGPyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerSCOTIA1").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
        
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->



<script>
  /*
    
    //Manulife start
    
    var outerWidth = 830;
    var outerHeight = 220;
    var margin = { left: 110, top: 5, right: 50, bottom: 20 };
    
      var barPadding = 0.2;

     var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
      var layerColumn = colorColumn;

      var innerWidth  = outerWidth  - margin.left - margin.right;
      var innerHeight = outerHeight - margin.top  - margin.bottom;

      var svg = d3.select("#containerMANULIFE").append("svg")
        .attr("width",  outerWidth)
        .attr("height", outerHeight);
        
      var g8 = svg.append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        
      var xAxisG8 = g8.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + innerHeight + ")");
        
      var yAxisG8 = g8.append("g")
        .attr("class", "y axis");
        
      var colorLegendG8 = g8.append("g")
        .attr("class", "color-legend")
        .attr("transform", "translate(10,20)");
        
        

      var xScale8 = d3.scale.ordinal().rangeBands([0, innerWidth], barPadding);
      var yScale8 = d3.scale.linear().range([innerHeight, 0]);
      var colorScale8 = d3.scale.category10();

      var xAxis8 = d3.svg.axis().scale(xScale8).orient("bottom")
        .outerTickSize(0);
      var yAxis8 = d3.svg.axis().scale(yScale8).orient("left")
        .ticks(5)
        .tickFormat(d3.format("s"))
        .outerTickSize(0);

     
        
      var colorLegend8 = d3.legend.color()
      .scale(colorScale8)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);

      function render(data){

        var nested = d3.nest()
          .key(function (d){ return d[layerColumn]; })
          .entries(data)

        var stack = d3.layout.stack()
          .y(function (d){ return d[yColumn]; })
          .values(function (d){ return d.values; });

        var layers = stack(nested);

        xScale8.domain(layers[0].values.map(function (d){
          return d[xColumn];
        }));

        yScale8.domain([
          0,
          d3.max(layers, function (layer){
            return d3.max(layer.values, function (d){
              return d.y;
            });
          })
        ]);

        colorScale8.domain(layers.map(function (layer){
          return layer.key;
        }));

        xAxisG8.call(xAxis8);
        yAxisG8.call(yAxis8);

        var layers = g8.selectAll(".layer").data(layers);
        layers.enter().append("g").attr("class", "layer");
        layers.exit().remove();
        layers.style("fill", function (d){
          return colorScale8(d.key);
        });

        var bars = layers.selectAll("rect").data(function (d){
          return d.values;
        });
        var barWidth = xScale8.rangeBand() / colorScale8.domain().length;
        bars.enter().append("rect")
        bars.exit().remove();
        bars
          .attr("x", function (d, i, j){
            return xScale8(d[xColumn]) + barWidth * j;
          })
          .attr("y", function (d){ return yScale8(d.y); })
          .attr("width", barWidth)
          .attr("height", function (d){ return innerHeight - yScale8(d.y); })
          
  
          

        colorLegendG8.call(colorLegend8);
      }

      function type(d){
           d.revenue = +d.revenue;
        return d;
      }

      d3.csv("Manulifebar.csv", type, render);
      
       d3.text("Manulifebardata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
            var container = d3.select("#containerMANULIFE").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
    
*/
</script>


<script>
    //Manulife line START
  var outerWidth = 830;
  var outerHeight = 220;
  var margin = { left: 110, top: 5, right: 20, bottom: 20 };
    
  
  var xColumn = "month";
  var yColumn = "revenue";
  var colorColumn = "year";
  var lineColumn = colorColumn;

  var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
  var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
  
  
  // This will create the svg container with 1200 width and 300 hegith
  var svg = d3.select("#containerMANULIFE").append("svg")
  .attr("width", outerWidth + margin.left + margin.right)
  .attr("height", outerHeight + margin.top + margin.bottom);

// this will create transform at x=80 and y=5 g = group
  var g8 = svg.append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


  var xAxisG8 = g8.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + innerHeight + ")")
  
  
  var yAxisG8 = g8.append("g")
      .attr("class", "y axis");
  
  // this is year color indicator
  
  var colorLegendG8 = g8.append("g")
  .attr("class", "color-legend")
  .attr("transform", "translate(" + (innerWidth - 10) + "," + margin.top +")");
  
  var xScale8 = d3.scale.linear().range([0, innerWidth]);  // xscale
  
  var yScale8 = d3.scale.linear().range([innerHeight, 0]);  // yscale
  
  var colorScale8 = d3.scale.category10();
  
  var xAxis8 = d3.svg.axis().scale(xScale8).orient("bottom").ticks(10).outerTickSize(0);


  var yAxis8 = d3.svg.axis().scale(yScale8).orient("left").ticks(10).outerTickSize(0);
  

   //creating the line
    var line8 = d3.svg.line()
      .x(function(d) { return xScale8(d[xColumn]); }) 
      .y(function(d) { return yScale8(d[yColumn]); });  
   
   // below is color legend line color
    var colorLegend8 = d3.legend.color()
    .scale(colorScale8)
    .shapePadding(3)
    .shapeWidth(15)
    .shapeHeight(15)
    .labelOffset(10);
    
    
    // actual logic is below to draw the whole with data
   function render(data){


     xScale8.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
      yScale8.domain([-0.7, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
      
      

      xAxisG8.call(xAxis8);  // This will draw the xaxis
      yAxisG8.call(yAxis8); // This will draw the yaxis


      var nested = d3.nest()
        .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
        .entries(data);
       
       
      colorScale8.domain(nested.map(function (d){ return d.key; }));
      

      var paths = g8.selectAll(".chart-line").data(nested);
      
      paths.enter().append("path").attr("class", "chart-line");
      
      paths.exit().remove();
   
      
      // the below code draw the year line in the graph
      paths.attr("d", function (d){
        return line8(d.values);}).attr("stroke", function (d){ return colorScale8(d.key); });
      
      
      // circles
      
  
      
      
      //label -- This is working
      
      /*
      g.append("g")
      .attr("class", "labels")
      .selectAll("text")
      .data(data)
      .enter()
      .append("text")
        .attr("class", "label")
        .attr("x", function(d) { return xScale(d[xColumn]); })
        .attr("y", function(d) { return yScale(d[yColumn]); })
        .attr("text-bold", "middle")
       // .attr("transform", "translate(0,10)")
       .attr("transform", "translate(0,0)")
        .text(function(d) {
          return d.revenue;
        });
      */
      
      g8.selectAll(".dot")
      .data(data)
    .enter().append("circle")
      .attr("class", "dot")
      .attr("cx", function(d) { return xScale8(d[xColumn]); })
      .attr("cy", function(d) { return yScale8(d[yColumn]); })
      .attr("r",  function(d) { 
        
        //alert(d.revenue);
        
        if(d.revenue >= 0 || d.revenue < 0 )
          {
          return 3.5;
          }
        else{
          
          return 0;
        }
      });
      
      
      
      colorLegendG8.call(colorLegend8);
    
    }
   
    function type(d3){
        // d.year = new Date(d.year);
         d3.month = +d3.month;
         d3.revenue = +d3.revenue;
         return d3;
       }
       
       d3.csv("Manulifebar.csv", type, render);
       
    /*   
       var outerWidth = 1200;
       var outerHeight = 300;
       var margin = { left: 80, top:5, right: 50, bottom: 20 };
       var svg = d3.select("body").append("svg")
       .attr("width", 0)
       .attr("height", 0);
       
       var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
       */
       d3.text("Manulifebardata.csv", function(data) {
           var parsedCSV = d3.csv.parseRows(data);
           // var cana = d3.select("body").append("svg");
           
           
          
           //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
           
          var container = d3.select("#containerMANULIFE").
          
          append("g")
              .append("table").selectAll("tr")
                   .data(parsedCSV).enter()
                   .append("tr")
                   .attr("class", "head")
               .selectAll("td")
                   .data(function(d) { return d; }).enter()
                   .append("td")
                   .text(function(d) { return d; });
       });
       
     
</script>

    

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

    
<script>
      //Manulife line START
    var outerWidth = 830;
    var outerHeight = 220;
    var margin = { left: 120, top: 5, right: 10, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerMANULIFE1").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g9 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG9 = g9.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG9 = g9.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG9 = g9.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + (innerWidth - 20) + "," + margin.top +")");
    
    var xScale9 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale9 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale9 = d3.scale.category10();
    
    var xAxis9 = d3.svg.axis().scale(xScale9).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis9 = d3.svg.axis().scale(yScale9).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line9 = d3.svg.line()
        .x(function(d) { return xScale9(d[xColumn]); }) 
        .y(function(d) { return yScale9(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend9 = d3.legend.color()
      .scale(colorScale9)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
     function render(data){


 	    xScale9.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        //yScale9.domain([-0.7, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        yScale9.domain([d3.min(data, function(d){return d[yColumn];}) , d3.max(data, function (d){ return d[yColumn]; })]);
        

        xAxisG9.call(xAxis9);  // This will draw the xaxis
        yAxisG9.call(yAxis9); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale9.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g9.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line9(d.values);}).attr("stroke", function (d){ return colorScale9(d.key); });
        
        
        // circles
        
    
        
        
        //label -- This is working
        
        /*
        g.append("g")
        .attr("class", "labels")
        .selectAll("text")
        .data(data)
        .enter()
        .append("text")
          .attr("class", "label")
          .attr("x", function(d) { return xScale(d[xColumn]); })
          .attr("y", function(d) { return yScale(d[yColumn]); })
          .attr("text-bold", "middle")
         // .attr("transform", "translate(0,10)")
         .attr("transform", "translate(0,0)")
          .text(function(d) {
            return d.revenue;
          });
        */
        
        g9.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale9(d[xColumn]); })
        .attr("cy", function(d) { return yScale9(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        
        
        colorLegendG9.call(colorLegend9);
      
      }
     
      function type(d3){
          // d.year = new Date(d.year);
           d3.month = +d3.month;
           d3.revenue = +d3.revenue;
           return d3;
         }
         
         d3.csv("ManulifeGPyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("ManulifeGPyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerMANULIFE1").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
       
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

<script>
      //CIBC REV START
    var outerWidth = 830;
    var outerHeight = 220;
    var margin = { left: 110, top: 5, right: 20, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerCIBC").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g10 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG10 = g10.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG10 = g10.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG10 = g10.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale10 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale10 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale10 = d3.scale.category10();
    
    var xAxis10 = d3.svg.axis().scale(xScale10).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis10 = d3.svg.axis().scale(yScale10).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line10 = d3.svg.line()
        .x(function(d) { return xScale10(d[xColumn]); }) 
        .y(function(d) { return yScale10(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend10 = d3.legend.color()
      .scale(colorScale10)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
     function render(data){


 	    xScale10.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        yScale10.domain([0, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        
        

        xAxisG10.call(xAxis10);  // This will draw the xaxis
        yAxisG10.call(yAxis10); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
                  
        colorScale10.domain(nested.map(function (d){ return d.key; }));
      
      
        var paths = g10.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line10(d.values);}).attr("stroke", function (d){ return colorScale10(d.key); });
        
        
        // circles
        
        
       g10.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale10(d[xColumn]); })
        .attr("cy", function(d) { return yScale10(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        
        colorLegendG10.call(colorLegend10);
      
      }
     
      function type(d3){
          // d.year = new Date(d.year);
           d3.month = +d3.month;
           d3.revenue = +d3.revenue;
           return d3;
         }
         
         d3.csv("CIBCRevYoY.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("CIBCRevYoYdata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerCIBC").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
       
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

<script>
      //CIBC GP START 
    var outerWidth = 830;
    var outerHeight = 220;
    var margin = { left: 120, top: 5, right: 20, bottom: 20 };
    
    
    var xColumn = "month";
    var yColumn = "revenue";
    var colorColumn = "year";
    var lineColumn = colorColumn;
    
    var innerWidth  = outerWidth  - margin.left - margin.right; // 1200 - 80 - 50 = 1070
    var innerHeight = outerHeight - margin.top  - margin.bottom; // 300 - 5 - 20  = 275
    
    
    // This will create the svg container with 1200 width and 300 hegith
    var svg = d3.select("#containerCIBC1").append("svg")
    .attr("width", outerWidth + margin.left + margin.right)
    .attr("height", outerHeight + margin.top + margin.bottom);

	// this will create transform at x=80 and y=5 g = group
    var g11 = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
	
	
    var xAxisG11 = g11.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + innerHeight + ")")
    
    
    var yAxisG11 = g11.append("g")
        .attr("class", "y axis");
    
    // this is year color indicator
    
    var colorLegendG11 = g11.append("g")
    .attr("class", "color-legend")
    .attr("transform", "translate(" + innerWidth + "," + margin.top +")");
    
    var xScale11 = d3.scale.linear().range([0, innerWidth]);  // xscale
    
    var yScale11 = d3.scale.linear().range([innerHeight, 0]);  // yscale
    
    var colorScale11 = d3.scale.category10();
    
    var xAxis11 = d3.svg.axis().scale(xScale11).orient("bottom").ticks(10).outerTickSize(0);


    var yAxis11 = d3.svg.axis().scale(yScale11).orient("left").ticks(10).outerTickSize(0);
    

     //creating the line
      var line11 = d3.svg.line()
        .x(function(d) { return xScale11(d[xColumn]); }) 
        .y(function(d) { return yScale11(d[yColumn]); });  
     
     // below is color legend line color
      var colorLegend11 = d3.legend.color()
      .scale(colorScale11)
      .shapePadding(3)
      .shapeWidth(15)
      .shapeHeight(15)
      .labelOffset(10);
      
      
      // actual logic is below to draw the whole with data
     function render(data){


 	    xScale11.domain(d3.extent(data, function (d){ return d[xColumn]; })); // passing the data to xcolumm (month) as xaxis
        //yScale11.domain([-0.5, d3.max(data, function (d){ return d[yColumn]; })]); // passing the data to ycolumm (revenue) as yaxis
        yScale11.domain([d3.min(data, function(d){return d[yColumn];}) , d3.max(data, function (d){ return d[yColumn]; })]);
        

        xAxisG11.call(xAxis11);  // This will draw the xaxis
        yAxisG11.call(yAxis11); // This will draw the yaxis


        var nested = d3.nest()
          .key(function (d){ return d[lineColumn]; })   // passing the linecolumn(year) as key 
          .entries(data);
         
         
        colorScale11.domain(nested.map(function (d){ return d.key; }));
        
      
        

        var paths = g11.selectAll(".chart-line").data(nested);
        
        paths.enter().append("path").attr("class", "chart-line");
        
        paths.exit().remove();
        
     
        
        // the below code draw the year line in the graph
        paths.attr("d", function (d){
          return line11(d.values);}).attr("stroke", function (d){ return colorScale11(d.key); });
        
        
        // circles
        
    
        
        
         g11.selectAll(".dot")
        .data(data)
      .enter().append("circle")
        .attr("class", "dot")
        .attr("cx", function(d) { return xScale11(d[xColumn]); })
        .attr("cy", function(d) { return yScale11(d[yColumn]); })
        .attr("r",  function(d) { 
        	
        	//alert(d.revenue);
        	
        	if(d.revenue >= 0 || d.revenue < 0 )
        		{
        		return 3.5;
        		}
        	else{
        		
        		return 0;
        	}
        });
        
        colorLegendG11.call(colorLegend11);
      
      }
     
      function type(d3){
          // d.year = new Date(d.year);
           d3.month = +d3.month;
           d3.revenue = +d3.revenue;
           return d3;
         }
         
         d3.csv("CIBCGPyoy.csv", type, render);
         
      /*   
         var outerWidth = 1200;
         var outerHeight = 300;
         var margin = { left: 80, top:5, right: 50, bottom: 20 };
         var svg = d3.select("body").append("svg")
         .attr("width", 0)
         .attr("height", 0);
         
         var k = svg.append("g") .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
         */
         d3.text("CIBCGPyoydata.csv", function(data) {
             var parsedCSV = d3.csv.parseRows(data);
             // var cana = d3.select("body").append("svg");
             
             
            
             //<svg id="abc" width="1200" height="300" viewBox="-20 -20 800 800" preserveAspectRatio="none"></svg>
             
            var container = d3.select("#containerCIBC1").
            
            append("g")
                .append("table").selectAll("tr")
                     .data(parsedCSV).enter()
                     .append("tr")
                     .attr("class", "head")
                 .selectAll("td")
                     .data(function(d) { return d; }).enter()
                     .append("td")
                     .text(function(d) { return d; });
         });
         
        
       
</script>

<!-- ===============================================================================  -->
<!-- ===============================================================================  -->

</form>
</body>
</html>